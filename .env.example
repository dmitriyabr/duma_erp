# Database
# For Railway: Use ${{Postgres.DATABASE_URL}} (set by Railway PostgreSQL plugin)
# For local: postgresql+asyncpg://erp_user:erp_password@localhost:5432/school_erp
DATABASE_URL=postgresql+asyncpg://erp_user:erp_password@localhost:5432/school_erp

# JWT
# IMPORTANT: Generate a secure random key for production!
# Example: openssl rand -hex 32
JWT_SECRET_KEY=your-secret-key-change-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# App
APP_ENV=development
DEBUG=true

# CORS
# For production: set to your frontend domain (Railway provides ${{RAILWAY_PUBLIC_DOMAIN}})
# For local: http://localhost:5173
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:8000

# macOS only: for WeasyPrint PDF generation, set before running backend (or add to shell profile):
# export DYLD_LIBRARY_PATH=/opt/homebrew/opt/glib/lib:/opt/homebrew/opt/pango/lib:/opt/homebrew/lib
# Requires: brew install pango glib

# File storage (attachments: payment confirmations). Dev: local folder; prod: Cloudflare R2 (S3-compatible).
STORAGE_PATH=uploads
# Cloudflare R2 (prod). If all four are set, attachments are stored in R2 instead of local folder.
# S3_ENDPOINT_URL=https://<ACCOUNT_ID>.r2.cloudflarestorage.com
# S3_ACCESS_KEY=<R2 Access Key ID>
# S3_SECRET_KEY=<R2 Secret Access Key>
# S3_BUCKET=school-erp-uploads
# S3_REGION=auto
